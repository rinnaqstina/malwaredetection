import pandas as pd
import numpy as np
import joblib
import pickle
from sklearn.feature_selection import SelectFromModel

# Load file model and features
file_model = joblib.load('models/classifier.pkl')
with open('models/features.pkl', 'rb') as f:
    file_features = pickle.load(f)

# Example feature names and sample data (update with actual feature names)
feature_names = [
    'Feature1', 'Feature2', 'Feature3', 'Feature4', 'Feature5', 
    'Feature6', 'Feature7', 'Feature8', 'Feature9', 'Feature10', 
    'Feature11', 'Feature12', 'Feature13'
]

# Create a sample data dictionary with the correct number of features
sample_data = {name: [0.1] for name in feature_names}

# Convert sample data to DataFrame
data = pd.DataFrame(sample_data)
X = data.values

# Ensure X_new has the correct number of features
X_new = SelectFromModel(file_model.estimators_[0], prefit=True).transform(X)
prediction = file_model.predict(X_new)
print("File Prediction:", prediction)
